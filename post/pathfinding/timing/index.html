<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><link href="http://gmpg.org/xfn/11" rel="profile"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><link href="https://arianv.com/post/pathfinding/timing/" rel="canonical"><title>Timing</title><link href='//fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'><link rel="stylesheet" href="//arianv.com//css/main.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="//arianv.com/apple-touch-icon-144-precomposed.png"><link href="//arianv.com/favicon.png" rel="icon"><link href="" rel="alternate" type="application/rss+xml" title="Arian&#39;s Portfolio &middot; "/><meta name="description" content=""><meta name="keywords" content=""> <meta property="og:title" content="Timing" />
<meta property="og:description" content="Timing code&#182;    In&nbsp;[14]: %reload_ext autoreload %autoreload 2 from pathfinding import demo, grid, utils, finder from pathfinding.grid import core, viz cases = demo.get_case_files()      In&nbsp;[8]: def cost(p0, p1): return 1 def md(p0, p1): return abs(p1[0] - p0[0]) &#43; abs(p1[1] - p0[1]) for i, case in enumerate(cases): start, end, polygons = case maze = grid.generate(200, 100, polygons) print(&#39;Case: &#39;, i &#43; 1) print(&#39;BFS&#39;) %timeit -n 3 path, = finder." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//arianv.com/post/pathfinding/timing/" />
<meta property="article:published_time" content="2019-03-17T13:01:01&#43;08:00"/>
<meta property="article:modified_time" content="2019-03-17T13:01:01&#43;08:00"/>

  
<meta itemprop="name" content="Timing">
<meta itemprop="description" content="Timing code&#182;    In&nbsp;[14]: %reload_ext autoreload %autoreload 2 from pathfinding import demo, grid, utils, finder from pathfinding.grid import core, viz cases = demo.get_case_files()      In&nbsp;[8]: def cost(p0, p1): return 1 def md(p0, p1): return abs(p1[0] - p0[0]) &#43; abs(p1[1] - p0[1]) for i, case in enumerate(cases): start, end, polygons = case maze = grid.generate(200, 100, polygons) print(&#39;Case: &#39;, i &#43; 1) print(&#39;BFS&#39;) %timeit -n 3 path, = finder.">


<meta itemprop="datePublished" content="2019-03-17T13:01:01&#43;08:00" />
<meta itemprop="dateModified" content="2019-03-17T13:01:01&#43;08:00" />
<meta itemprop="wordCount" content="1030">



<meta itemprop="keywords" content="Python,Algorithms," />
 <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Timing"/>
<meta name="twitter:description" content="Timing code&#182;    In&nbsp;[14]: %reload_ext autoreload %autoreload 2 from pathfinding import demo, grid, utils, finder from pathfinding.grid import core, viz cases = demo.get_case_files()      In&nbsp;[8]: def cost(p0, p1): return 1 def md(p0, p1): return abs(p1[0] - p0[0]) &#43; abs(p1[1] - p0[1]) for i, case in enumerate(cases): start, end, polygons = case maze = grid.generate(200, 100, polygons) print(&#39;Case: &#39;, i &#43; 1) print(&#39;BFS&#39;) %timeit -n 3 path, = finder."/>
 <meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="5 min read">  </head><body><div class="content container"> <nav class="main-nav"><div class="ribbon-content"><div class="nav-inner"><ul><li> <a id="nav-home" data-page="home" href="//arianv.com/">Home</a></li><li> <a id="nav-articles" data-page="articles" href="//arianv.com/post">Articles</a></li><li> <a id="nav-articles" data-page="ludum-dare" href="//arianv.com/ludum-dare">Ludum Dare</a></li></ul></div></div></nav><div class="post pathfinding-180"><div class="post-info"> <span class="post-date">Mar 17, 2019  &middot; <a href="//arianv.com/post/pathfinding/timing/#disqus_thread">Comments</a></span>   <span class="post-tags"><a class="label" href="//arianv.com//tags/python">Python</a><a class="label" href="//arianv.com//tags/algorithms">Algorithms</a></span> </div><article> 
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Timing-code">Timing code<a class="anchor-link" href="#Timing-code">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">reload_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2

<span class="kn">from</span> <span class="nn">pathfinding</span> <span class="k">import</span> <span class="n">demo</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">utils</span><span class="p">,</span> <span class="n">finder</span>
<span class="kn">from</span> <span class="nn">pathfinding.grid</span> <span class="k">import</span> <span class="n">core</span><span class="p">,</span> <span class="n">viz</span>
<span class="n">cases</span> <span class="o">=</span> <span class="n">demo</span><span class="o">.</span><span class="n">get_case_files</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">cost</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">):</span> <span class="k">return</span> <span class="mi">1</span>
<span class="k">def</span> <span class="nf">md</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p0</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">p0</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">case</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cases</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">polygons</span> <span class="o">=</span> <span class="n">case</span>
    <span class="n">maze</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">polygons</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Case: &#39;</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;BFS&#39;</span><span class="p">)</span>
    <span class="o">%</span><span class="k">timeit</span> -n 3 path, = finder.bfs(maze, core.find_walkable_neighbors, start, end)
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;DFS&#39;</span><span class="p">)</span>
    <span class="o">%</span><span class="k">timeit</span> -n 3 path, = finder.dfs(maze, core.find_walkable_neighbors, start, end)
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A*&#39;</span><span class="p">)</span>
    <span class="o">%</span><span class="k">timeit</span> -n 3 path, = finder.astar(maze, core.find_walkable_neighbors, start, end, cost=cost, heuristic=md)
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Case:  1
BFS
118 ms ± 2.96 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
DFS
3.53 s ± 30.4 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
A *
227 ms ± 2.79 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)



Case:  2
BFS
121 ms ± 1.91 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
DFS
116 ms ± 3.13 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
A *
177 ms ± 3.6 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)



Case:  3
BFS
148 ms ± 1.57 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
DFS
3.52 s ± 66.9 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
A *
692 ms ± 17.9 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)



Case:  4
BFS
161 ms ± 4.1 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
DFS
364 ms ± 8.4 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
A *
463 ms ± 7.33 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)



Case:  5
BFS
186 ms ± 911 µs per loop (mean ± std. dev. of 7 runs, 3 loops each)
DFS
5.94 s ± 92 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)
A *
431 ms ± 2.69 ms per loop (mean ± std. dev. of 7 runs, 3 loops each)



</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we show/format the output as per spec (start, end, number of expanded nodes, cost and running time)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">case</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cases</span><span class="p">):</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">polygons</span> <span class="o">=</span> <span class="n">case</span>
    <span class="n">maze</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">polygons</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Case: &#39;</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># demo version of finders contain the (a, b, c, d, e) output as per spec (and some functions implicitly set)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;BFS&#39;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">render_demo</span><span class="p">(</span><span class="n">demo</span><span class="o">.</span><span class="n">bfs</span><span class="p">(</span><span class="n">maze</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;DFS&#39;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">render_demo</span><span class="p">(</span><span class="n">demo</span><span class="o">.</span><span class="n">dfs</span><span class="p">(</span><span class="n">maze</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A*&#39;</span><span class="p">)</span>
    <span class="n">utils</span><span class="o">.</span><span class="n">render_demo</span><span class="p">(</span><span class="n">demo</span><span class="o">.</span><span class="n">astar</span><span class="p">(</span><span class="n">maze</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Case:  1
BFS
 Start:  (2, 2)
 End:  (197, 97)
 Number of Expanded Nodes:  9419
 Cost:  443
 Running time: 0.12145209312438965 seconds


DFS
 Start:  (2, 2)
 End:  (197, 97)
 Number of Expanded Nodes:  7225
 Cost:  4865
 Running time: 3.680464744567871 seconds


A*
 Start:  (2, 2)
 End:  (197, 97)
 Number of Expanded Nodes:  6767
 Cost:  443
 Running time: 0.22876715660095215 seconds


Case:  2
BFS
 Start:  (9, 7)
 End:  (174, 84)
 Number of Expanded Nodes:  9964
 Cost:  355
 Running time: 0.11522197723388672 seconds


DFS
 Start:  (9, 7)
 End:  (174, 84)
 Number of Expanded Nodes:  1374
 Cost:  1031
 Running time: 0.115264892578125 seconds


A*
 Start:  (9, 7)
 End:  (174, 84)
 Number of Expanded Nodes:  7510
 Cost:  355
 Running time: 0.17552900314331055 seconds


Case:  3
BFS
 Start:  (4, 4)
 End:  (195, 95)
 Number of Expanded Nodes:  12190
 Cost:  283
 Running time: 0.14322686195373535 seconds


DFS
 Start:  (4, 4)
 End:  (195, 95)
 Number of Expanded Nodes:  7773
 Cost:  7509
 Running time: 3.881817102432251 seconds


A*
 Start:  (4, 4)
 End:  (195, 95)
 Number of Expanded Nodes:  6000
 Cost:  283
 Running time: 0.6704928874969482 seconds


Case:  4
BFS
 Start:  (2, 2)
 End:  (195, 95)
 Number of Expanded Nodes:  12785
 Cost:  287
 Running time: 0.16221904754638672 seconds


DFS
 Start:  (2, 2)
 End:  (195, 95)
 Number of Expanded Nodes:  2364
 Cost:  2305
 Running time: 0.3908839225769043 seconds


A*
 Start:  (2, 2)
 End:  (195, 95)
 Number of Expanded Nodes:  4674
 Cost:  287
 Running time: 0.46894216537475586 seconds


Case:  5
BFS
 Start:  (2, 2)
 End:  (195, 95)
 Number of Expanded Nodes:  14786
 Cost:  287
 Running time: 0.19643592834472656 seconds


DFS
 Start:  (2, 2)
 End:  (195, 95)
 Number of Expanded Nodes:  9324
 Cost:  9317
 Running time: 5.998751878738403 seconds


A*
 Start:  (2, 2)
 End:  (195, 95)
 Number of Expanded Nodes:  4599
 Cost:  287
 Running time: 0.4391360282897949 seconds


</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Analysis-and-conclusions">Analysis and conclusions<a class="anchor-link" href="#Analysis-and-conclusions">&#182;</a></h1><p>As we can see with the above, A* and BFS always have equal cost, and they are always lower than DFS. This makes sense, as these 2 algorithms are optimal.</p>
<p>The running time of DFS varies quite a bit - it can get slow, or fast, depending on the graph/maze. This makes sense as DFS depends on how 'lucky' it can get in expanding to the goal node (if the goal node is near the end of the first few branches). However, note that DFS is <strong>not</strong> optimal - it's cost can be larger than the actual lowest cost to the goal.</p>
<p>Comparing the running time between A<em> and BFS, we see that BFS is faster on most cases, whilst A</em> expands way less nodes.</p>
<p>A* expanding less nodes makes sense, as it uses the heuristic function to 'expand in the direction' of the goal.</p>
<p>BFS is a bit faster due to a couple of reasons. One is that we have most starting points and endpoints at corners - this cuts the extra nodes expanded by BFS by quite a lot (imagine an example where the starting point is in the center and end point at top, BFS would expand in both directions while A* would only expand in one direction).</p>
<p>There also quite a few optimizations we can make for our current implementation of A*. Our A* algorithm supports arbitrary use cases, as long as it's provided a way to traverse the graph, and a cost and heuristic function. We can trade these flexibility and inline these functions, which would increase its speed. Note as well that there's no priority queue in the current implementation, and instead use a linear pass to get the node with the lowest cost.</p>
<p>Back to <a href="../toc">Index</a> or look into <a href="viz">Extra: Viz</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
  <hr/><div class="post-series-desc"><p>This is a post in the <a href="//arianv.com//series/cs-180-pathfinding" id="series"><b>CS 180 Pathfinding</b></a> series.<br/> Other posts in this series:</p>  <ul class="series"> <li>Mar 17, 2019 - <a href="//arianv.com/post/cs-180-pathfinding/">CS 180 Pathfinding</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/grid/">Grid</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/finders/">Finders</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/grid-search/">Grid Search</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/test-cases/">Test Cases</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/running-test-cases/">Running Test Cases</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/timing/">Timing</a></li> <li>Mar 17, 2019 - <a href="//arianv.com/post/pathfinding/viz/">Viz</a></li> </ul></div> </article> <footer class="article-footer"><h3>Arian Valdez <a href="//twitter.com/Secretmapper">@Secretmapper</a></h3><p>React.JS and Node.JS Software engineering consultant. Developer/Designer Hybrid. Author of Alt Tracker, Combustion, Riyu, etc.</p></footer> <div id="disqus_thread"></div></div></div> <div id="disqus_thread"></div><script>
  
  var disqus_config = function () {
    
      this.page.identifier = 'Timing';
    
    this.page.title = "Timing";
    this.page.url = "https://arianv.com/post/pathfinding/timing/";
  };
  (function() {  
    var d = document, s = d.createElement('script');
    s.src = 'https://arianv.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>  </div><footer class="page-footer">Copyright &#169; Arian Allenson M. Valdez | CC-BY-SA</footer><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/solarized-dark.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script> <script id="dsq-count-scr" src="//arianv.disqus.com/count.js" async></script>  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', "UA-60507502-1", 'auto');
  ga('send', 'pageview');
</script> </body></html>
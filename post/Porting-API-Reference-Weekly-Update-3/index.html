<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><link href="http://gmpg.org/xfn/11" rel="profile"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta property="og:title" content="Arian Allenson's Portfolio"/><meta property="og:type" content="website" /><meta property="og:image" content="http://arianv.com/media/avatar.png"/><meta property="og:site_name" content="Arian Allenson's Portfolio"/><meta property="og:description" content="Game Developer a.k.a. Secretmapper"/><title>Porting API Reference: GSOC Weekly Update 3</title><link href='http://fonts.googleapis.com/css?family=Fjalla+One|Open+Sans:300' rel='stylesheet' type='text/css'><link rel="stylesheet" href="http://arianv.com//css/main.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://arianv.com/apple-touch-icon-144-precomposed.png"><link href="http://arianv.com/favicon.png" rel="icon"><link href="" rel="alternate" type="application/rss+xml" title="Arian&#39;s Portfolio &middot; " /><meta name="description" content=""><meta name="keywords" content=""> </head><body><div class="content container"> <nav class="main-nav"><div class="ribbon-content"><div class="nav-inner"><ul><li> <a id="nav-home" data-page="home" href="http://arianv.com/">Home</a></li><li> <a id="nav-articles" data-page="articles" href="http://arianv.com/post">Articles</a></li></ul></div></div></nav><div class="post"><h1 id="post-title">Porting API Reference: GSOC Weekly Update 3</h1><div class="post-info"> <span class="post-date">Jun 18, 2015 &middot; 3 minute read &middot; <a href="http://arianv.com/post/Porting-API-Reference-Weekly-Update-3/#disqus_thread">Comments</a></span>   <span class="post-tags"><a class="label" href="http://arianv.com//tags/js">JS</a><a class="label" href="http://arianv.com//tags/go">Go</a><a class="label" href="http://arianv.com//tags/webdev">Webdev</a></span> </div><article> 

<p>This is the third weekly update for the <a href="https://github.com/osmlab/learnoverpass">LearnOverpass</a> Project.</p>

<p>This week&rsquo;s deliverable is to &lsquo;port&rsquo; the API reference to the learning platform.</p>

<h2 id="existing-resources:f134b74e78c386ba684142a6899fbf89">Existing Resources</h2>

<p>The &lsquo;sales pitch&rsquo; of LearnOverpass has always been <em>&lsquo;a one stop, learning resource for the overpass API&rsquo;</em> - we wanted the site to be the de facto page for learning the Query Language.</p>

<p>To do this properly, we need to make use of, and expand, <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Overpass_QL">existing resources</a> of the language.</p>

<h2 id="query-goodness:f134b74e78c386ba684142a6899fbf89">Query Goodness</h2>

<p>To get my project specification accepted, I had to write a solid plan, a set of goals, etc. One of the things I needed to have was to create a mockup of the application, and one of those was this little gem:</p>

<p><div class='post-width post-all-center'> <table>
<thead>
<tr>
<th>Query</th>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>poly</td>
<td>space delimited coordinates</td>
<td>an Array of points for the bounding polygon</td>
</tr>
</tbody>
</table>

<pre><code>  node(poly:&quot;x1 y1 x2 y2 x... y... xn yn&quot;);
</code></pre>
</div></p>

<p>Expand the queries and methods, decompose how they work, and make them standalone enough. Just like standard documentation pages.</p>

<p>But this model of a query + parameter combo reference wouldn&rsquo;t really work for the project - the Overpass QL is not a framework or a library with a <em>set of methods</em>, it is it&rsquo;s own <strong>Query Language</strong>.</p>

<p>Because of this, it was evident that there is a better way to create the reference page. the more sensible way was to document it how Query Languages are documented, like MySQL does.</p>

<p>As an example, you can see how the <a href="http://dev.mysql.com/doc/refman/5.6/en/create-table.html"><code>CREATE TABLE</code></a> statement is documented in the MySQL reference manual. Much like the Query Language in the reference wiki - the syntax and form was shown as to how to properly use the statement.</p>

<h2 id="learning-by-example:f134b74e78c386ba684142a6899fbf89">Learning By Example</h2>

<p>With the <a href="http://arianv.com/post/Embedding-Overpass-Turbo-Weekly-Update-2">embedded overpass turbo interface added last week</a>, we were able to create conclusive visual examples per statement&rsquo;s usage. Properly crafting the right queries that show the different uses of the statement and it&rsquo;s quirks took up the bulk of this week&rsquo;s task.</p>

<p>To make the examples more interesting, statements that would query in famous landmarks were used: in the reference pages we see the stonehenge, the peak to Christ the Redeemer Statue&rsquo;s Mountain, and others more.</p>

<h2 id="next-week:f134b74e78c386ba684142a6899fbf89">Next Week</h2>

<p>The next week will be dedicated to polishing and fleshing out the API reference, as there are still a few statements that could have better examples. Since the reference now support multiple examples per page, we&rsquo;re also looking into creative uses to this - currently it&rsquo;s only being used to differentiate the <code>out;</code> and <code>out meta;</code> statements, but we could further use it to show the different <code>By tag</code> filters for example
.</p>

<p>There is also going to be a couple of improvements coming in the way of Overpass Turbo. Currently the interactive map <a href="https://github.com/tyrasd/overpass-turbo/issues/23">doesn&rsquo;t support</a> a few features that would be integral to the coming interactive exercises feature, so I&rsquo;m looking into implementing this and doing a pull request.</p>

<p>This feature would also be useful to make the examples more visual - imagine a <code>union</code> statement with different colored nodes powered by MapCSS!</p>

<p>That&rsquo;s it for this week! Again, feel free to let me know if you see anything that could be improved by commenting below!</p>

<p>Till next time!</p>
  <hr/><div class="post-series-desc"><p>This is a post in the <a href="http://arianv.com//series/gsoc-2015" id="series"><b>GSOC 2015</b></a> series.<br/> Other posts in this series:</p>  <ul class="series"> <li>Jun 24, 2015 - <a href="http://arianv.com/post/Polishing-API-Reference-Weekly-Update-4/">Polishing API Reference: GSOC Weekly Update 4</a></li> <li>Jun 18, 2015 - <a href="http://arianv.com/post/Porting-API-Reference-Weekly-Update-3/">Porting API Reference: GSOC Weekly Update 3</a></li> <li>Jun 11, 2015 - <a href="http://arianv.com/post/Embedding-Overpass-Turbo-Weekly-Update-2/">Embedding Overpass Turbo: GSOC Weekly Update 2</a></li> <li>May 02, 2015 - <a href="http://arianv.com/post/GSOC-2015-Introduction/">GSOC 2015 Introduction: LearnOverpass</a></li> </ul></div> </article> <div id="disqus_thread"></div></div></div> <script type="text/javascript">
var disqus_shortname = "arianv";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>  <script type="text/javascript">
    var disqus_shortname = "arianv";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>  </div><footer>Copyright &#169; Arian Allenson M. Valdez | CC-BY-SA</footer>  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', "UA-60507502-1", 'auto');
  ga('send', 'pageview');
</script> </body></html>